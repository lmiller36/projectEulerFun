<html>
<!-- <script src="bundle.js"></script>
<object width="300" height="300" type="text/plain" data="message.txt" border="0" >
</object> -->
<script type="text/javascript">
	
	var primes = {};
	var primeList = [];
	uniqueFractions(100);


	function genPrimes(numPrimes){
		primes[2] = 1;
		primes[3] = 1;
		primes[5] = 1;
		primeList.push(2);
		primeList.push(3);
		primeList.push(5);
		for(var i = 7; i < numPrimes; i++){
			var prime = 1;
			var j = 3;
			if(i % 2 == 0 || i % 3 == 0 || i % 5 == 0) prime = 0;
			
			while(j < primeList.length && prime)
			{
				if(i % primeList[j] == 0)prime = 0;
				j++;
			}
			if(prime){
				primeList.push(i);
				primes[i] = 1;
			}
		}
	}

	function uniqueFractions(n){
		genPrimes(n);
		var unique = 0;
		// // console.log(fractionIsReduced(3,4));
		for(var i = 2;i <= n; i++){
			// console.log(i+":"+unique);
			// if(primes[i]) unique += i - 1;
			// else{
				for(var j = 1; j < i;j++){
					// console.log()
					// if(j == 1)unique++;
					// else if(primes[j]) unique++;
					// else if(i % j == 0){}
					// else{
						var isReduced = fractionIsReduced(j,i);
						if(isReduced){
							unique ++;
							// console.log(j+"/"+i)
						} 
					// }

					// if()
						// var isReduced = fractionIsReduced(j,i);
						// if(isReduced) unique ++;

				// console.log(isReduced+":"+j+"/"+i);
			// }
		}
	}

	console.log(unique);
}

function fractionIsReduced(num,denom){
	if(num == 1) return true;	
	if(denom % num == 0)return false;
	if(primes[num] || primes[denom]) return true;

	var curr = num;
	while(curr!=1){
		var currFactor = getLowestFactor(curr);
			// console.log(currFactor);
			if(denom % currFactor == 0) return false;
			curr = curr / currFactor;
		}

		return true;
	}

	function getLowestFactor(n){
		// console.log(primeList)
		// console.log(n);
		var i = 0; 
		while( i < primeList.length){
			// console.log(primeList[i]);
			if(n % primeList[i] == 0) return primeList[i];
			i++;
		}
	}

	//x is always less than y
	function getHighestCommonFactor(x,y){

	}
</script>

</html>